
<div>
    <div class="example-header">
      <mat-form-field>
        <input matInput (keyup)="applyMessageFilter($event.target.value)" placeholder="Filter">
      </mat-form-field>
    </div>
  
    <mat-table #table [dataSource]="messageDataSource" matSort>
  
      <ng-container matColumnDef="message">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Message </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.message}} </mat-cell>
      </ng-container>
  
      <ng-container matColumnDef="threadId">
        <mat-header-cell *matHeaderCellDef mat-sort-header> ThreadId </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.threadId}} </mat-cell>
      </ng-container>  
  
      <ng-container matColumnDef="created">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Created </mat-header-cell>
        <mat-cell *matCellDef="let row">{{ row.createdTime | date }}</mat-cell>
      </ng-container>

      <ng-container matColumnDef="actionsColumn">
          <mat-header-cell *matHeaderCellDef mat-sort-header> Reply / Close Thread</mat-header-cell>
         
      <!--    <mat-header-cell *matHeaderCellDef>
             
            <button mat-icon-button color="accent" (click)="dataSource.createNew()"><i class="fa fa-plus mat-icon"></i></button>
          </mat-header-cell>  -->
          <mat-cell *matCellDef="let row">
            <button *ngIf="!row.editing" mat-icon-button color="primary" focusable="false" (click)="onSelect(row)">
                  <i class="fa fa-pencil mat-icon"></i>
                </button>
                <button  *ngIf="!row.editing" mat-icon-button color="primary" focusable="false" (click)="closeThread(row)">
                    <i class="fa fa-times mat-icon"></i>
                  </button> 
            <button   *ngIf="row.editing" mat-icon-button color="primary" focusable="false" (click)="row.confirmEditCreate()">
                  <i class="fa fa-check mat-icon"></i>  
                </button>  
            
          </mat-cell>
        </ng-container>

    <!--    <ng-container matColumnDef="close">
            <mat-header-cell *matHeaderCellDef mat-sort-header> Close Thread </mat-header-cell>
            <button  *ngIf="!row.editing" mat-icon-button color="primary" focusable="false" (click)="row.cancelOrDelete()">
                <i class="fa fa-times mat-icon"></i>
              </button>
          </ng-container>  -->
    

  
    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row> 

    
    </mat-table>
    <br>
    <br>
<hr>
    <div *ngIf="selectedMessage">
        <div class="row">
              <div class="col-md-12">
               <!--   <mat-form-field> -->
                      <textarea  placeholder="Joel" matTextareaAutosize matAutosizeMinRows="4"
                      matAutosizeMaxRows="10" matInput placeholder="Message"> {{selectedMessage.message}}</textarea>
                <!--      <button mat-button>Click me!</button>  
                      
                    </mat-form-field>  -->
               </div>
           
        </div>
        <hr>
        <br>
        <div class="row">
            <div class="col-md-8">
                <textarea  name="message" required [(ngModel)]="newMessage.message" #message="ngModel" placeholder="message" matTextareaAutosize matAutosizeMinRows="4"
                matAutosizeMaxRows="10" matInput> </textarea>

             </div>
             <div class="col-md-4">
                <button (click)="sendMessage()" type="button" class="btn btn-success"> Send </button>  

             </div>

        </div>

  
       
       

       
      
    <!--    <mat-form-field>
          <mat-select placeholder="Select">
            <mat-option value="option">Option</mat-option>
          </mat-select>
        </mat-form-field>  -->
      </div>

      <br>
      <br>
  
</div>

